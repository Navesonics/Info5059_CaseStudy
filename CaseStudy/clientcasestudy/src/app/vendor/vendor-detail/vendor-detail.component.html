<!--vendor-detail.component.html-->
<form [formGroup]="vendorForm" (ngSubmit)="updateSelectedVendor()">
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Name</mat-label>
      <mat-error *ngIf="name.errors && (name.dirty || name.touched)">Name is required!</mat-error>
      <input matInput type="name" formControlName="name" autofocus />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Address</mat-label>
      <mat-error *ngIf="address1.errors && (address1.dirty || address1.touched)">Address is required!</mat-error>
      <input matInput type="address1" formControlName="address1" />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>City</mat-label>
      <mat-error *ngIf="city.errors && (city.dirty || city.touched)">City is required!</mat-error>
      <input matInput type="city" formControlName="city" />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Province</mat-label>
      <mat-error *ngIf="province.errors && (province.dirty || province.touched)">Province is required!</mat-error>
      <mat-select matInput placeholder="province" formControlName="province">
        <mat-option value="On">Ontario</mat-option>
        <mat-option value="Qu">Quebec</mat-option>
        <mat-option value="Ab">Alberta</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Postal Code</mat-label>
      <mat-error *ngIf="postalcode.errors && (postalcode.dirty || postalcode.touched)">
        <span *ngIf="postalcode.hasError('required')">Postal Code is required!</span>
        <span *ngIf="!postalcode.hasError('required') && postalcode.hasError('invalidPostalCode')">
          format must be - X#X-#X#
        </span>
      </mat-error>
      <input matInput type="text" formControlName="postalcode" />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Phone #</mat-label>
      <mat-error *ngIf="phone.errors && (phone.dirty || phone.touched)">
        <span *ngIf="phone.hasError('required')">Phone # is required!</span>
        <span *ngIf="!phone.hasError('required') && phone.hasError('invalidPhone')">
          format must be - (###)###-####
        </span>
      </mat-error>
      <input matInput type="text" formControlName="phone" />
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Type</mat-label>
      <mat-error *ngIf="type.errors && (type.dirty || type.touched)">Type is required!</mat-error>
      <mat-select matInput placeholder="type" formControlName="type">
        <mat-option value="Trusted">Trusted</mat-option>
        <mat-option value="Untrusted">Untrusted</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="form-row">
    <mat-form-field class="full-width">
      <mat-label>Email</mat-label>
      <mat-error *ngIf="email.errors && (email.dirty || email.touched)">
        <span *ngIf="email.hasError('required')">Email is required!</span>
        <span *ngIf="!email.hasError('required') && email.hasError('invalidEmail')">
          format must be - {{'xxx@xxx.xxx'}}
        </span>
      </mat-error>
      <input matInput type="email" formControlName="email" />
    </mat-form-field>
  </div>
  <div class="form-actions">
    <button mat-raised-button type="submit" [disabled]="!vendorForm.valid">Save</button>
    <button *ngIf="selectedVendor.id" mat-raised-button type="button" (click)="deleted.emit(selectedVendor)">Delete</button>
    <button mat-raised-button type="button" (click)="cancelled.emit(selectedVendor)">Cancel</button>
  </div>
</form>
